<main class="flex-1 flex flex-col relative w-full">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0 w-full h-full bg-cover bg-center bg-no-repeat"
        style='background-image: linear-gradient(to right, rgba(17, 19, 24, 0.9) 0%, rgba(17, 19, 24, 0.7) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuDbV3BsLyVPirxUbJWRZ9YkHacrwzQTxppyMrVSqMtdBdLzm63v700htws2JQdGew_qkoIG7RvUA1yXPx3WXAjMUhi-xYXVdoDgDQbNv5BtJn10rB_poqRE3ORiGQ13hGQyGgTsBfDFKV_o-7l2wRJIfmxSrOk_4BuBrfWqOQJVTHYq9TRPcMtZXQfPbrEChJqUr1aFNz_ousWLFd5CgenSwBzziU1_1-0KIcF6XeFVU5oH4fkHU_ff2r6dwN53KyoHdhsigajRWUpw");'>
    </div>

    <div class="relative z-10 flex flex-1 flex-col items-center justify-center py-10 px-4 md:px-0">
        <div class="w-full max-w-[1000px] grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-8 items-center">
            <!-- Left Column: Marketing / Intro (Hidden on very small screens, shown on md) -->
            <div class="hidden md:flex flex-col gap-6 p-6">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/20 border border-primary/30 w-fit">
                    <span class="material-symbols-outlined text-primary text-sm">verified_user</span>
                    <span class="text-primary text-xs font-bold uppercase tracking-wider">Registro Seguro</span>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-white leading-tight tracking-tight">
                    Tu moto merece <br> <span class="text-primary">el mejor cuidado.</span>
                </h1>
                <p class="text-gray-400 text-lg max-w-md leading-relaxed">
                    Únete a miles de motociclistas que confían en MotoFix. Gestiona tu historial, agenda citas y recibe
                    alertas de mantenimiento.
                </p>
                <div class="flex gap-4 mt-4">
                    <div class="flex flex-col gap-1">
                        <span class="text-2xl font-bold text-white">2.5k+</span>
                        <span class="text-sm text-gray-500">Usuarios Activos</span>
                    </div>
                    <div class="w-px h-12 bg-gray-700"></div>
                    <div class="flex flex-col gap-1">
                        <span class="text-2xl font-bold text-white">4.9</span>
                        <span class="text-sm text-gray-500">Calificación</span>
                    </div>
                </div>
            </div>

            <!-- Right Column: Registration Form -->
            <div
                class="w-full max-w-[480px] mx-auto glass-panel border border-[#292e38] rounded-2xl shadow-2xl overflow-hidden p-6 md:p-8">
                <div class="mb-8 text-center md:text-left">
                    <h2 class="text-2xl font-bold text-white mb-2">Crea tu cuenta</h2>
                    <p class="text-gray-400 text-sm">Ingresa tus datos para comenzar tu registro.</p>
                </div>

                <!-- Social Login -->
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <button type="button" (click)="onGoogleRegister()"
                        class="flex items-center justify-center gap-2 h-10 rounded-lg bg-[#292e38] hover:bg-[#3c4453] transition-colors border border-transparent text-white text-sm font-medium">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                                fill="#4285F4"></path>
                            <path
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                                fill="#34A853"></path>
                            <path
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                                fill="#FBBC05"></path>
                            <path
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                                fill="#EA4335"></path>
                        </svg>
                        Google
                    </button>
                    <button type="button" (click)="onFacebookRegister()"
                        class="flex items-center justify-center gap-2 h-10 rounded-lg bg-[#292e38] hover:bg-[#3c4453] transition-colors border border-transparent text-white text-sm font-medium">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z">
                            </path>
                        </svg>
                        Facebook
                    </button>
                </div>

                <div class="relative flex py-2 items-center mb-6">
                    <div class="flex-grow border-t border-[#3c4453]"></div>
                    <span class="flex-shrink-0 mx-4 text-gray-500 text-xs uppercase font-medium">o regístrate con
                        correo</span>
                    <div class="flex-grow border-t border-[#3c4453]"></div>
                </div>

                <!-- Error Message -->
                <div *ngIf="errorMessage"
                    class="mb-4 p-4 rounded-lg bg-red-500/10 border border-red-500/30 text-red-500 text-sm">
                    {{ errorMessage }}
                </div>

                <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="flex flex-col gap-4">
                    <!-- Nombre y Apellido -->
                    <div class="flex gap-4">
                        <div class="flex-1 flex flex-col gap-2">
                            <label class="text-white text-sm font-medium" for="nombre">Nombre</label>
                            <div class="relative">
                                <div
                                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                    <span class="material-symbols-outlined text-[20px]">person</span>
                                </div>
                                <input formControlName="nombre"
                                    class="w-full bg-[#111318] border border-[#3c4453] rounded-lg py-2.5 pl-10 pr-4 text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-sm"
                                    id="nombre" placeholder="Juan" type="text" />
                            </div>
                            <div *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched"
                                class="text-red-500 text-xs mt-1">
                                <span *ngIf="registerForm.get('nombre')?.errors?.['required']">El nombre es
                                    requerido</span>
                                <span *ngIf="registerForm.get('nombre')?.errors?.['minlength']">Mínimo 2
                                    caracteres</span>
                            </div>
                        </div>
                        <div class="flex-1 flex flex-col gap-2">
                            <label class="text-white text-sm font-medium" for="apellido">Apellido</label>
                            <div class="relative">
                                <input formControlName="apellido"
                                    class="w-full bg-[#111318] border border-[#3c4453] rounded-lg py-2.5 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-sm"
                                    id="apellido" placeholder="Pérez" type="text" />
                            </div>
                            <div *ngIf="registerForm.get('apellido')?.invalid && registerForm.get('apellido')?.touched"
                                class="text-red-500 text-xs mt-1">
                                <span *ngIf="registerForm.get('apellido')?.errors?.['required']">El apellido es
                                    requerido</span>
                                <span *ngIf="registerForm.get('apellido')?.errors?.['minlength']">Mínimo 2
                                    caracteres</span>
                            </div>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="flex flex-col gap-2">
                        <label class="text-white text-sm font-medium" for="email">Correo Electrónico</label>
                        <div class="relative">
                            <div
                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                <span class="material-symbols-outlined text-[20px]">mail</span>
                            </div>
                            <input formControlName="email"
                                class="w-full bg-[#111318] border border-[#3c4453] rounded-lg py-2.5 pl-10 pr-4 text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-sm"
                                id="email" placeholder="juan.perez@ejemplo.com" type="email" />
                        </div>
                        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
                            class="text-red-500 text-xs mt-1">
                            <span *ngIf="registerForm.get('email')?.errors?.['required']">El email es requerido</span>
                            <span *ngIf="registerForm.get('email')?.errors?.['email']">Email inválido</span>
                        </div>
                    </div>

                    <!-- Contraseña -->
                    <div class="flex flex-col gap-2">
                        <label class="text-white text-sm font-medium" for="password">Contraseña</label>
                        <div class="relative">
                            <div
                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                <span class="material-symbols-outlined text-[20px]">lock</span>
                            </div>
                            <input formControlName="password"
                                class="w-full bg-[#111318] border border-[#3c4453] rounded-lg py-2.5 pl-10 pr-10 text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-sm"
                                id="password" placeholder="••••••••" [type]="showPassword ? 'text' : 'password'" />
                            <button type="button" (click)="togglePasswordVisibility()"
                                class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white cursor-pointer">
                                <span class="material-symbols-outlined text-[20px]">{{ showPassword ? 'visibility_off' :
                                    'visibility' }}</span>
                            </button>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Debe tener al menos 8 caracteres</p>
                        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                            class="text-red-500 text-xs">
                            <span *ngIf="registerForm.get('password')?.errors?.['required']">La contraseña es
                                requerida</span>
                            <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Mínimo 8 caracteres</span>
                        </div>
                    </div>

                    <!-- Términos y Condiciones -->
                    <div class="flex items-center gap-3 my-2">
                        <input formControlName="terms"
                            class="w-4 h-4 rounded border-gray-600 bg-[#111318] text-primary focus:ring-primary focus:ring-offset-[#1c1f26]"
                            id="terms" type="checkbox" />
                        <label class="text-xs text-gray-400 select-none" for="terms">
                            Acepto los <a class="text-primary hover:underline" href="#">Términos</a> y <a
                                class="text-primary hover:underline" href="#">Política de Privacidad</a>
                        </label>
                    </div>
                    <div *ngIf="registerForm.get('terms')?.invalid && registerForm.get('terms')?.touched"
                        class="text-red-500 text-xs -mt-2">
                        Debes aceptar los términos y condiciones
                    </div>

                    <!-- Botón de Registro -->
                    <button type="submit" [disabled]="loading"
                        class="mt-2 w-full flex cursor-pointer items-center justify-center rounded-lg h-12 px-5 bg-primary hover:bg-blue-600 active:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all text-white text-base font-bold leading-normal tracking-[0.015em] shadow-[0_4px_12px_rgba(23,84,207,0.4)]">
                        <span *ngIf="loading" class="animate-spin mr-2">⌛</span>
                        <span>{{ loading ? 'Creando cuenta...' : 'Crear Cuenta' }}</span>
                    </button>
                </form>

                <div class="mt-8 text-center">
                    <p class="text-sm text-gray-400">
                        ¿Ya tienes cuenta?
                        <a routerLink="/login"
                            class="text-primary font-semibold hover:text-blue-400 transition-colors">Iniciar Sesión</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</main>